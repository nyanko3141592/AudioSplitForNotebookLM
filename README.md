# 爆速議事録 ⚡

## 概要
オンラインミーティングを簡単録音、AI文字起こし、議事録作成まで3ステップで完了。完全にプライベートで動作し、あなたのGemini APIのみで安全にデータ処理します。

**主な機能**：
- **🎙️ オンラインミーティング録音**: マイク＋システム音声を同時録音（Zoom・Teams・Google Meet対応）
- **📝 AI文字起こし＆議事録**: Gemini APIで高精度な文字起こしと要約を自動生成  
- **🔒 プライベート処理**: 音声データは外部送信なし、あなたのAPIキーのみで処理
- **⚡ 3ステップ完了**: 録音→文字起こし→議事録まで最短ルート

**ライブデモ**: [https://nyanko3141592.github.io/AudioSplitForNotebookLM/](https://nyanko3141592.github.io/AudioSplitForNotebookLM/)

## 主な機能

### ✨ 特徴
- **🎙️ ワンクリック録音**: オンラインミーティングの録音を簡単開始
- **🔊 デュアル音声録音**: マイク（あなたの声）＋システム音声（相手の声）を同時録音
- **📊 リアルタイム音声レベル**: 録音前から音声入力レベルを確認可能
- **🤖 AI文字起こし**: Google Gemini APIによる高精度な音声認識
- **📝 自動議事録生成**: 文字起こしから議事録・要約を自動作成
- **🔒 完全プライベート**: 音声データは外部サーバーに送信されません
- **💾 データ保護**: ブラウザ終了時の未保存データ警告機能
- **📱 インストール不要**: ブラウザだけで動作

### 📋 機能詳細

#### 1. 🎙️ 録音機能（新機能）
**オンラインミーティング録音フロー**：
1. マイクを有効化（デバイス選択可能）
2. システム音声を選択（Zoom・Teams・Google Meetなど）
3. リアルタイム音声レベルで入力確認
4. 録音開始・停止をワンクリック

**特徴**:
- **デュアル音声録音**: マイク＋システム音声を同時録音
- **デバイス選択**: 複数マイクから選択可能
- **音声レベル表示**: 録音前から入力レベルを確認
- **自動ストリーム管理**: 録音終了時に自動でストリーム停止

#### 2. 📝 文字起こし・議事録作成
**AI処理フロー**：
1. 録音ファイルまたはアップロードファイル
2. 200MB以上の場合は自動分割
3. Gemini APIで高精度文字起こし
4. 議事録形式で自動要約生成

**対応形式**: WebM, MP3, WAV, M4A, OGG, MP4（動画から音声抽出）
**特徴**:
- 背景情報入力で精度向上（会議情報、参加者など）
- 複数の要約形式（議事録、要約、インタビュー、講義ノート）
- 結果のコピー・ダウンロード機能
- バッチ処理による効率的な処理

#### 3. 🔧 音声分割機能（従来機能）
**分割フロー**：
1. 音声ファイルをアップロード
2. 分割設定（最大サイズ or 分割数）
3. 分割実行・結果確認

**分割オプション**:
- 最大サイズ指定モード（デフォルト: 190MB）
- 分割数指定モード（2〜100個に均等分割）
- 各ファイルの個別ダウンロード
- ZIP形式で一括ダウンロード

#### 4. 📤 出力形式
**音声ファイル**
- 8-bit PCM WAV形式で出力（元ファイルより小さくなる場合があります）
- 分割ファイル名: `original_name_part1.wav`, `original_name_part2.wav`...
- 各ファイルを個別ダウンロード、ZIP形式で一括ダウンロード可能

**テキスト出力**
- 文字起こし結果：プレーンテキスト、コピー機能付き
- 要約結果：マークダウン形式、ダウンロード・コピー機能付き

## 技術仕様

### アーキテクチャ
- **処理方式**: 完全クライアントサイド処理（サーバー通信なし）
- **メモリ管理**: 自動メモリ解放機能により、大容量ファイル処理後も安定動作

### 音声処理エンジン
1. **Web Audio API（推奨）**
   - ブラウザネイティブAPIで高速処理
   - サンプルレベルの正確な分割（重複・欠落なし）
   - 8-bit PCM変換によりファイルサイズを最適化

2. **FFmpeg.wasm（フォールバック）**
   - Web Audio APIが利用できない場合に自動切り替え
   - より多くの音声形式をサポート
   - ストリーミング分割対応

### 技術スタック
- **React 19 + TypeScript**: モダンUIフレームワーク
- **Vite**: 高速ビルドツール、WASM対応
- **TailwindCSS v4**: モダンなグラデーションデザイン
- **Google Gemini API**: AI音声認識・要約
- **GitHub Pages**: 無料・高速ホスティング

## 🚀 使い方

### 📝 議事録作成（推奨）

1. **APIキー設定**: [Google AI Studio](https://aistudio.google.com/app/apikey)でGemini APIキーを取得
2. **録音またはアップロード**: 
   - **録音**: マイクとシステム音声を設定して録音開始
   - **アップロード**: 既存の音声ファイルをドラッグ&ドロップ
3. **文字起こし**: 
   - 背景情報を入力（会議情報、参加者名など）で精度向上
   - 文字起こし開始ボタンをクリック
4. **議事録生成**: 
   - 要約形式を選択（議事録、要約、インタビューなど）
   - 議事録作成ボタンをクリック
5. **結果取得**: コピーまたはダウンロードで結果を取得

### 🔧 音声分割のみ

1. **ファイルアップロード**: 音声ファイルをアップロード
2. **分割設定**: 
   - 最大サイズ指定（デフォルト190MB）
   - または分割数指定（2〜100個）
3. **分割実行**: ボタンクリックで処理開始
4. **結果取得**: 個別またはZIPで一括ダウンロード

### APIキーの設定

文字起こし・要約機能を使用するには、Google AI StudioでGemini APIキーを取得してください：

1. [Google AI Studio](https://aistudio.google.com/app/apikey)にアクセス
2. 新しいAPIキーを作成
3. アプリの設定画面でAPIキーを入力
4. APIキーはブラウザのローカルストレージに安全に保存されます

## セキュリティ・プライバシー

🔒 **あなたのデータは安全に保護されています**

### 音声ファイル処理
- **完全ローカル処理**: 音声ファイルは一切サーバーに送信されません
- **メモリ自動削除**: 処理後は自動的にメモリから削除
- **ブラウザ内完結**: すべての分割処理はあなたのブラウザ内で実行

### AI機能（文字起こし・要約）
- **直接API通信**: Gemini APIとの通信は暗号化されています
- **APIキー保護**: APIキーはブラウザのローカルストレージに暗号化して保存
- **サーバー経由なし**: 当アプリのサーバーは一切経由しません
- **一時的処理**: 音声データはAPI処理後すぐに削除されます

### 透明性
- **オープンソース**: すべてのコードがGitHubで公開されています
- **監査可能**: セキュリティを自分で確認できます

## 動作環境

### 推奨ブラウザ
- Chrome 89以降
- Firefox 89以降
- Safari 15.4以降
- Edge 89以降

### システム要件
- メモリ: 4GB以上推奨
- 最大処理可能ファイルサイズ: 約2GB（ブラウザ依存）

## 既知の問題と制限事項

- **モバイルブラウザ**: メモリ制限により大容量ファイルの処理が困難
- **処理時間**: 1GB以上のファイルは数分かかる場合があります
- **出力形式**: 分割後はWAV形式のみ対応（元の形式に関わらず）
- **API制限**: Gemini APIの利用制限に依存（無料枠: 15RPM、60RPD）

## トラブルシューティング

### Q: 分割後のファイルサイズが大きい
A: 8-bit PCM WAV形式で出力されるため、MP3等の圧縮形式より大きくなる場合があります。

### Q: 処理が遅い
A: Web Audio APIが使用されているか確認してください。ブラウザのコンソールでログを確認できます。

### Q: エラーが発生する
A: 以下を確認してください：
- ブラウザが推奨バージョン以上か
- メモリが十分にあるか
- 音声ファイルが破損していないか

## 開発者向け情報

### 環境構築

```bash
# リポジトリのクローン
git clone https://github.com/nyanko3141592/AudioSplitForNotebookLM.git
cd AudioSplitForNotebookLM

# 依存関係のインストール
npm install

# 開発サーバーの起動（http://localhost:5173）
npm run dev

# ビルド
npm run build

# ビルドのプレビュー
npm run preview
```

### プロジェクト構造

```
src/
├── pages/           # ページコンポーネント
│   ├── TranscribePage.tsx       # 文字起こしページ
│   └── SplitPage.tsx            # 音声分割ページ
├── components/       # UIコンポーネント
│   ├── WorkflowStepper.tsx      # ワークフロー進行表示
│   ├── ResultsSummary.tsx       # 過去ステップの結果表示
│   ├── steps/                   # ステップ別コンポーネント
│   │   ├── TranscriptionStep.tsx    # 文字起こし
│   │   └── SummaryStep.tsx          # 要約作成
│   ├── FileUpload.tsx           # ファイルアップロード
│   ├── SplitOptions.tsx         # 分割オプション設定
│   ├── ProgressBar.tsx          # 進捗表示
│   └── DownloadList.tsx         # ダウンロードリスト
├── hooks/           # カスタムフック
│   └── useFFmpeg.ts             # FFmpeg.wasm統合
├── utils/           # ユーティリティ
│   ├── audioSplitter.ts         # Web Audio API分割処理
│   ├── geminiTranscriber.ts     # Gemini API統合
│   ├── storage.ts               # ローカルストレージ管理
│   └── download.ts              # ダウンロード処理
└── App.tsx          # メインアプリケーション（ナビゲーション）
```

### 技術的詳細

#### アーキテクチャ更新
- **ページベース構成**: 文字起こしと分割機能を独立したページに分離
- **自動処理フロー**: 文字起こしモードではAPIキー設定後に自動実行
- **シンプルUI**: 複雑な設定を隠蔽し、直感的な操作を実現

#### 分割アルゴリズム
1. 音声ファイルをArrayBufferとして読み込み
2. Web Audio APIでデコード
3. サンプルレベルで正確に分割（重複・欠落なし）
4. 8-bit PCM WAVとしてエンコード
5. Blobとして出力

#### メモリ管理
- AudioContext自動クローズ
- ArrayBuffer即座解放
- Blob URL自動revoke
- ガベージコレクション最適化

## コントリビューション

プルリクエストを歓迎します！
1. Forkする
2. Feature branchを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. Branchにプッシュ (`git push origin feature/AmazingFeature`)
5. Pull Requestを開く

## ライセンス

MIT License - 詳細は[LICENSE](LICENSE)ファイルを参照

## 作者

[@nyanko3141592](https://github.com/nyanko3141592)

## 謝辞

- NotebookLMチーム - 素晴らしいツールの提供
- FFmpeg.wasm - クロスプラットフォーム音声処理
- コントリビューターの皆様